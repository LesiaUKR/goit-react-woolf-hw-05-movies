"use strict";(self.webpackChunkgoit_react_woolf_hw_05_movies=self.webpackChunkgoit_react_woolf_hw_05_movies||[]).push([[84],{334:(n,e,t)=>{t.d(e,{A:()=>i});t(43);var o=t(579);const i=n=>{let{error:e}=n;return(0,o.jsx)("div",{children:"'Sorry, something went wrong :('"})}},804:(n,e,t)=>{t.d(e,{A:()=>w});t(43);var o,i,a,r,s,c,d=t(216),l=t(475),u=t(177),p=t(528),f=t(197);const g=f.Ay.ul(o||(o=(0,p.A)(["\n  display: grid;\n  max-width: calc(100vw - 100px);\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  grid-gap: 24px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]))),m=f.Ay.li(i||(i=(0,p.A)(["\n  border-radius: 6px;\n  outline: 2px solid rgb(255, 49, 49, 0.5);\n  transition: color 250ms ease-in-out, background-color 250ms ease-in-out,\n    box-shadow 250ms ease-in-out, transform 250ms ease-in-out;\n  &:hover,\n  &:focus {\n    cursor: pointer;\n    outline: 2px solid white;\n    box-shadow: 2px 2px 6px 2px rgb(255, 49, 49, 0.7);\n    transform: scale(1.03);\n  }\n"]))),h=f.Ay.div(a||(a=(0,p.A)(["\n  border-radius: 10px;\n  justify-content: center;\n  align-items: center;\n  > img {\n    object-fit: cover;\n  }\n"]))),v=f.Ay.div(r||(r=(0,p.A)(["\n  font-size: 18px;\n  padding: 10px;\n  overflow: hidden;\n"]))),x=f.Ay.h2(s||(s=(0,p.A)(["\n  font-size: 18px;\n  padding-top: 10px 10px;\n  overflow: hidden;\n  margin-bottom: 10px;\n"]))),y=f.Ay.img(c||(c=(0,p.A)(["\n  width: 100%;\n  height: 100%;\n  height: auto;\n  object-fit: cover;\n"])));var b=t(579);const w=function(n){let{movies:e}=n;const t=(0,d.zy)();return(0,b.jsx)(g,{children:e.map((n=>{let{id:e,title:o,name:i,poster_path:a,original_title:r,vote_average:s,release_date:c}=n;return(0,b.jsx)(l.N_,{to:"/movies/".concat(e),state:{from:t},children:(0,b.jsxs)(m,{children:[(0,b.jsx)(h,{children:(0,b.jsx)(y,{src:a?"https://image.tmdb.org/t/p/w500"+a:u,alt:o||i})}),(0,b.jsxs)(v,{children:[(0,b.jsxs)(x,{children:[r||o||i,c?" (".concat(c.slice(0,4),")"):""]}),(0,b.jsxs)("p",{children:["Raiting:"," ",s?"".concat(Math.round(10*s),"%"):"-"]})]})]})},e)}))})}},84:(n,e,t)=>{t.r(e),t.d(e,{default:()=>W});var o,i,a,r,s=t(43),c=t(562),d=t(334),l=t(804),u=t(528),p=t(197);const f=p.Ay.form(o||(o=(0,u.A)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n\n  box-shadow: 5px 5px 5px 5px rgb(255, 49, 49, 0.5);\n"]))),g=p.Ay.label(i||(i=(0,u.A)(["\n  width: 100%;\n  height: 100%;\n"]))),m=p.Ay.input(a||(a=(0,u.A)(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),h=p.Ay.button(r||(r=(0,u.A)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity var(--animation-duration) var(--timing-function);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n"])));var v=t(882);const x=n=>"number"==typeof n&&!isNaN(n),y=n=>"string"==typeof n,b=n=>"function"==typeof n,w=n=>(0,s.isValidElement)(n)||y(n)||b(n)||x(n);function A(n){let{enter:e,exit:t,appendPosition:o=!1,collapse:i=!0,collapseDuration:a=300}=n;return function(n){let{children:r,position:c,preventExitTransition:d,done:l,nodeRef:u,isIn:p,playToast:f}=n;const g=o?"".concat(e,"--").concat(c):e,m=o?"".concat(t,"--").concat(c):t,h=(0,s.useRef)(0);return(0,s.useLayoutEffect)((()=>{const n=u.current,e=g.split(" "),t=o=>{o.target===u.current&&(f(),n.removeEventListener("animationend",t),n.removeEventListener("animationcancel",t),0===h.current&&"animationcancel"!==o.type&&n.classList.remove(...e))};n.classList.add(...e),n.addEventListener("animationend",t),n.addEventListener("animationcancel",t)}),[]),(0,s.useEffect)((()=>{const n=u.current,e=()=>{n.removeEventListener("animationend",e),i?function(n,e,t){void 0===t&&(t=300);const{scrollHeight:o,style:i}=n;requestAnimationFrame((()=>{i.minHeight="initial",i.height=o+"px",i.transition="all ".concat(t,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)}))}))}(n,l,a):l()};p||(d?e():(h.current=1,n.className+=" ".concat(m),n.addEventListener("animationend",e)))}),[p]),s.createElement(s.Fragment,null,r)}}const j=new Map;let _=[];const k=new Set,E=()=>j.size>0;function I(n,e){var t;if(e)return!(null==(t=j.get(e))||!t.isToastActive(n));let o=!1;return j.forEach((e=>{e.isToastActive(n)&&(o=!0)})),o}function L(n,e){w(n)&&(E()||_.push({content:n,options:e}),j.forEach((t=>{t.buildToast(n,e)})))}function T(n,e){j.forEach((t=>{null!=e&&null!=e&&e.containerId?(null==e?void 0:e.containerId)===t.id&&t.toggle(n,null==e?void 0:e.id):t.toggle(n,null==e?void 0:e.id)}))}let S=1;const C=()=>""+S++;function z(n){return n&&(y(n.toastId)||x(n.toastId))?n.toastId:C()}function q(n,e){return L(n,e),e.toastId}function F(n,e){return{...e,type:e&&e.type||n,toastId:z(e)}}function N(n){return(e,t)=>q(e,F(n,t))}function D(n,e){return q(n,F("default",e))}D.loading=(n,e)=>q(n,F("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),D.promise=function(n,e,t){let o,{pending:i,error:a,success:r}=e;i&&(o=y(i)?D.loading(i,t):D.loading(i.render,{...t,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(n,e,i)=>{if(null==e)return void D.dismiss(o);const a={type:n,...s,...t,data:i},r=y(e)?{render:e}:e;return o?D.update(o,{...a,...r}):D(r.render,{...a,...r}),i},d=b(n)?n():n;return d.then((n=>c("success",r,n))).catch((n=>c("error",a,n))),d},D.success=N("success"),D.info=N("info"),D.error=N("error"),D.warning=N("warning"),D.warn=D.warning,D.dark=(n,e)=>q(n,F("default",{theme:"dark",...e})),D.dismiss=function(n){!function(n){var e;if(E()){if(null==n||y(e=n)||x(e))j.forEach((e=>{e.removeToast(n)}));else if(n&&("containerId"in n||"id"in n)){var t;(null==(t=j.get(n.containerId))?void 0:t.removeToast(n.id))||j.forEach((e=>{e.removeToast(n.id)}))}}else _=_.filter((e=>null!=n&&e.options.toastId!==n))}(n)},D.clearWaitingQueue=function(n){void 0===n&&(n={}),j.forEach((e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()}))},D.isActive=I,D.update=function(n,e){void 0===e&&(e={});const t=((n,e)=>{var t;let{containerId:o}=e;return null==(t=j.get(o||1))?void 0:t.toasts.get(n)})(n,e);if(t){const{props:o,content:i}=t,a={delay:100,...o,...e,toastId:e.toastId||n,updateId:C()};a.toastId!==n&&(a.staleId=n);const r=a.render||i;delete a.render,q(r,a)}},D.done=n=>{D.update(n,{progress:1})},D.onChange=function(n){return k.add(n),()=>{k.delete(n)}},D.play=n=>T(!0,n),D.pause=n=>T(!1,n);"undefined"!=typeof window?s.useLayoutEffect:s.useEffect;const R=function(n,e){return void 0===e&&(e=!1),{enter:"Toastify--animate Toastify__".concat(n,"-enter"),exit:"Toastify--animate Toastify__".concat(n,"-exit"),appendPosition:e}};A(R("bounce",!0)),A(R("slide",!0)),A(R("zoom")),A(R("flip"));var P=t(733),B=t(579);const H=n=>{let{onSubmit:e}=n;const[t,o]=(0,s.useState)(""),i=(0,s.useRef)("");return(0,B.jsx)(P.mc,{children:(0,B.jsxs)(f,{onSubmit:n=>(n.preventDefault(),""===t.trim()?D.error("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0444\u0456\u043b\u044c\u043c\u0443"):t?(i.current!==t&&e(t),void(i.current=t)):D.error("Sorry, there are no films matching your search query. Please try again.")),children:[(0,B.jsx)(h,{type:"submit",children:(0,B.jsx)(v.LUJ,{size:"24"})}),(0,B.jsx)(g,{children:(0,B.jsx)(m,{autoComplete:"off",name:"query",type:"text",autoFocus:!0,placeholder:"Search movie",onChange:n=>{o(n.currentTarget.value.toLowerCase())},value:t})})]})})};var M=t(455),O=t(475);const Q="idle",U="loading",J="resolve",V="error",W=()=>{var n;const[e,t]=(0,O.ok)(),o=null!==(n=e.get("query"))&&void 0!==n?n:"",[i,a]=(0,s.useState)([]),[r,u]=(0,s.useState)(Q),[p,f]=(0,s.useState)(null);(0,s.useEffect)((()=>{o&&(u(U),(0,c.D9)(o).then((n=>{a(n),u(J)})).catch((n=>{a([]),f(n),u(V)})))}),[o]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(H,{onSubmit:n=>{t(""!==n?{query:n}:{})}}),"loading"===r&&(0,B.jsx)(M.a,{}),r===J&&(0,B.jsx)(l.A,{movies:i}),r===V&&(0,B.jsx)(d.A,{error:p})]})}},562:(n,e,t)=>{t.d(e,{D9:()=>c,LF:()=>s,NA:()=>l,Nt:()=>r,dk:()=>d});var o=t(154);const i="https://api.themoviedb.org/3/",a="a661ef86e324b3ea2edd4f22cf9fb615";async function r(){const n="".concat(i,"trending/all/day?api_key=").concat(a);return(await o.A.get(n)).data.results}async function s(n){return(await o.A.get("".concat(i,"movie/").concat(n,"?api_key=").concat(a))).data}async function c(n){return(await o.A.get("".concat(i,"search/movie?api_key=").concat(a,"&query=").concat(n))).data.results}async function d(n){return(await o.A.get("".concat(i,"movie/").concat(n,"/credits?api_key=").concat(a,"&language=en-US"))).data}async function l(n){return(await o.A.get("".concat(i,"movie/").concat(n,"/reviews?api_key=").concat(a))).data}},177:(n,e,t)=>{n.exports=t.p+"static/media/default-movie-poster.71253f31d01ef6cdd4cc.jpg"}}]);
//# sourceMappingURL=84.b7619f68.chunk.js.map