"use strict";(self.webpackChunkgoit_react_woolf_hw_05_movies=self.webpackChunkgoit_react_woolf_hw_05_movies||[]).push([[84],{334:(n,e,t)=>{t.d(e,{A:()=>i});t(43);var o=t(579);const i=n=>{let{error:e}=n;return(0,o.jsx)("div",{children:"'Sorry, something went wrong :('"})}},804:(n,e,t)=>{t.d(e,{A:()=>w});t(43);var o,i,r,a,s,c,d=t(216),l=t(475),u=t(177),p=t(528),f=t(197);const m=f.Ay.ul(o||(o=(0,p.A)(["\n  display: grid;\n  max-width: calc(100vw - 100px);\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  grid-gap: 24px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]))),g=f.Ay.li(i||(i=(0,p.A)(["\n  border-radius: 6px;\n  outline: 2px solid rgb(255, 49, 49, 0.5);\n  transition: color 250ms ease-in-out, background-color 250ms ease-in-out,\n    box-shadow 250ms ease-in-out, transform 250ms ease-in-out;\n  &:hover,\n  &:focus {\n    cursor: pointer;\n    outline: 2px solid white;\n    box-shadow: 2px 2px 6px 2px rgb(255, 49, 49, 0.7);\n    transform: scale(1.03);\n  }\n"]))),h=f.Ay.div(r||(r=(0,p.A)(["\n  border-radius: 10px;\n  justify-content: center;\n  align-items: center;\n  > img {\n    object-fit: cover;\n  }\n"]))),v=f.Ay.div(a||(a=(0,p.A)(["\n  font-size: 18px;\n  padding: 10px;\n  overflow: hidden;\n"]))),x=f.Ay.h2(s||(s=(0,p.A)(["\n  font-size: 18px;\n  padding-top: 10px 10px;\n  overflow: hidden;\n  margin-bottom: 10px;\n"]))),y=f.Ay.img(c||(c=(0,p.A)(["\n  width: 100%;\n  height: 100%;\n  height: auto;\n  object-fit: cover;\n"])));var b=t(579);const w=function(n){let{movies:e}=n;const t=(0,d.zy)();return(0,b.jsx)(m,{children:e.map((n=>{let{id:e,title:o,name:i,poster_path:r,original_title:a,vote_average:s,release_date:c}=n;return(0,b.jsx)(l.N_,{to:"/movies/".concat(e),state:{from:t},children:(0,b.jsxs)(g,{children:[(0,b.jsx)(h,{children:(0,b.jsx)(y,{src:r?"https://image.tmdb.org/t/p/w500"+r:u,alt:o||i})}),(0,b.jsxs)(v,{children:[(0,b.jsxs)(x,{children:[a||o||i,c?" (".concat(c.slice(0,4),")"):""]}),(0,b.jsxs)("p",{children:["Raiting:"," ",s?"".concat(Math.round(10*s),"%"):"-"]})]})]})},e)}))})}},84:(n,e,t)=>{t.r(e),t.d(e,{default:()=>W});var o,i,r,a,s=t(43),c=t(562),d=t(334),l=t(804),u=t(528),p=t(197);const f=p.Ay.form(o||(o=(0,u.A)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n\n  box-shadow: 5px 5px 5px 5px rgb(255, 49, 49, 0.5);\n"]))),m=p.Ay.label(i||(i=(0,u.A)(["\n  width: 100%;\n  height: 100%;\n"]))),g=p.Ay.input(r||(r=(0,u.A)(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),h=p.Ay.button(a||(a=(0,u.A)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity var(--animation-duration) var(--timing-function);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n"])));var v=t(882);const x=n=>"number"==typeof n&&!isNaN(n),y=n=>"string"==typeof n,b=n=>"function"==typeof n,w=n=>(0,s.isValidElement)(n)||y(n)||b(n)||x(n);function A(n){let{enter:e,exit:t,appendPosition:o=!1,collapse:i=!0,collapseDuration:r=300}=n;return function(n){let{children:a,position:c,preventExitTransition:d,done:l,nodeRef:u,isIn:p,playToast:f}=n;const m=o?"".concat(e,"--").concat(c):e,g=o?"".concat(t,"--").concat(c):t,h=(0,s.useRef)(0);return(0,s.useLayoutEffect)((()=>{const n=u.current,e=m.split(" "),t=o=>{o.target===u.current&&(f(),n.removeEventListener("animationend",t),n.removeEventListener("animationcancel",t),0===h.current&&"animationcancel"!==o.type&&n.classList.remove(...e))};n.classList.add(...e),n.addEventListener("animationend",t),n.addEventListener("animationcancel",t)}),[]),(0,s.useEffect)((()=>{const n=u.current,e=()=>{n.removeEventListener("animationend",e),i?function(n,e,t){void 0===t&&(t=300);const{scrollHeight:o,style:i}=n;requestAnimationFrame((()=>{i.minHeight="initial",i.height=o+"px",i.transition="all ".concat(t,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)}))}))}(n,l,r):l()};p||(d?e():(h.current=1,n.className+=" ".concat(g),n.addEventListener("animationend",e)))}),[p]),s.createElement(s.Fragment,null,a)}}const j=new Map;let _=[];const k=new Set,E=()=>j.size>0;function I(n,e){var t;if(e)return!(null==(t=j.get(e))||!t.isToastActive(n));let o=!1;return j.forEach((e=>{e.isToastActive(n)&&(o=!0)})),o}function L(n,e){w(n)&&(E()||_.push({content:n,options:e}),j.forEach((t=>{t.buildToast(n,e)})))}function T(n,e){j.forEach((t=>{null!=e&&null!=e&&e.containerId?(null==e?void 0:e.containerId)===t.id&&t.toggle(n,null==e?void 0:e.id):t.toggle(n,null==e?void 0:e.id)}))}let S=1;const C=()=>""+S++;function z(n){return n&&(y(n.toastId)||x(n.toastId))?n.toastId:C()}function q(n,e){return L(n,e),e.toastId}function F(n,e){return{...e,type:e&&e.type||n,toastId:z(e)}}function N(n){return(e,t)=>q(e,F(n,t))}function R(n,e){return q(n,F("default",e))}R.loading=(n,e)=>q(n,F("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),R.promise=function(n,e,t){let o,{pending:i,error:r,success:a}=e;i&&(o=y(i)?R.loading(i,t):R.loading(i.render,{...t,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(n,e,i)=>{if(null==e)return void R.dismiss(o);const r={type:n,...s,...t,data:i},a=y(e)?{render:e}:e;return o?R.update(o,{...r,...a}):R(a.render,{...r,...a}),i},d=b(n)?n():n;return d.then((n=>c("success",a,n))).catch((n=>c("error",r,n))),d},R.success=N("success"),R.info=N("info"),R.error=N("error"),R.warning=N("warning"),R.warn=R.warning,R.dark=(n,e)=>q(n,F("default",{theme:"dark",...e})),R.dismiss=function(n){!function(n){var e;if(E()){if(null==n||y(e=n)||x(e))j.forEach((e=>{e.removeToast(n)}));else if(n&&("containerId"in n||"id"in n)){var t;(null==(t=j.get(n.containerId))?void 0:t.removeToast(n.id))||j.forEach((e=>{e.removeToast(n.id)}))}}else _=_.filter((e=>null!=n&&e.options.toastId!==n))}(n)},R.clearWaitingQueue=function(n){void 0===n&&(n={}),j.forEach((e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()}))},R.isActive=I,R.update=function(n,e){void 0===e&&(e={});const t=((n,e)=>{var t;let{containerId:o}=e;return null==(t=j.get(o||1))?void 0:t.toasts.get(n)})(n,e);if(t){const{props:o,content:i}=t,r={delay:100,...o,...e,toastId:e.toastId||n,updateId:C()};r.toastId!==n&&(r.staleId=n);const a=r.render||i;delete r.render,q(a,r)}},R.done=n=>{R.update(n,{progress:1})},R.onChange=function(n){return k.add(n),()=>{k.delete(n)}},R.play=n=>T(!0,n),R.pause=n=>T(!1,n);"undefined"!=typeof window?s.useLayoutEffect:s.useEffect;const D=function(n,e){return void 0===e&&(e=!1),{enter:"Toastify--animate Toastify__".concat(n,"-enter"),exit:"Toastify--animate Toastify__".concat(n,"-exit"),appendPosition:e}};A(D("bounce",!0)),A(D("slide",!0)),A(D("zoom")),A(D("flip"));var P=t(733),U=t(579);const B=n=>{let{onSubmit:e}=n;const[t,o]=(0,s.useState)(""),i=(0,s.useRef)("");return(0,U.jsx)(P.mc,{children:(0,U.jsxs)(f,{onSubmit:n=>(n.preventDefault(),""===t.trim()?R.error("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0444\u0456\u043b\u044c\u043c\u0443"):t?(i.current!==t&&e(t),void(i.current=t)):R.error("Sorry, there are no films matching your search query. Please try again.")),children:[(0,U.jsx)(h,{type:"submit",children:(0,U.jsx)(v.LUJ,{size:"24"})}),(0,U.jsx)(m,{children:(0,U.jsx)(g,{autoComplete:"off",name:"query",type:"text",autoFocus:!0,placeholder:"Search movie",onChange:n=>{o(n.currentTarget.value.toLowerCase())},value:t})})]})})};var H=t(455),M=t(475);const O="idle",Q="loading",J="resolve",V="error",W=()=>{var n;const[e,t]=(0,M.ok)(),o=null!==(n=e.get("query"))&&void 0!==n?n:"",[i,r]=(0,s.useState)([]),[a,u]=(0,s.useState)(O),[p,f]=(0,s.useState)(null);(0,s.useEffect)((()=>{o&&(u(Q),(0,c.D9)(o).then((n=>{r(n),u(J)})).catch((n=>{r([]),f(n),u(V)})))}),[o]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(B,{onSubmit:n=>{t(""!==n?{query:n}:{})}}),"loading"===a&&(0,U.jsx)(H.a,{}),a===J&&(0,U.jsx)(l.A,{movies:i}),a===V&&(0,U.jsx)(d.A,{error:p})]})}},562:(n,e,t)=>{t.d(e,{D9:()=>s,LF:()=>a,NA:()=>d,Nt:()=>r,dk:()=>c});var o=t(154);o.A.defaults.baseURL="https://api.themoviedb.org/3/";const i="a661ef86e324b3ea2edd4f22cf9fb615";async function r(){return(await o.A.get("trending/all/day",{params:{api_key:i}})).data.results}async function a(n){return(await o.A.get("movie/".concat(n),{params:{api_key:i}})).data}async function s(n){return(await o.A.get("search/movie",{params:{api_key:i,query:n}})).data.results}async function c(n){return(await o.A.get("movie/".concat(n,"/credits"),{params:{api_key:i,language:"en-US"}})).data}async function d(n){return(await o.A.get("movie/".concat(n,"/reviews"),{params:{api_key:i}})).data}},177:(n,e,t)=>{n.exports=t.p+"static/media/default-movie-poster.71253f31d01ef6cdd4cc.jpg"}}]);
//# sourceMappingURL=84.8dceaf21.chunk.js.map